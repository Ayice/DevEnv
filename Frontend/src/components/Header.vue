<template>
  <header class="header navbar">
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <router-link class="navbar-item" to="/">
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7.30427 0.182968C6.58349 0.434671 5.69108 1.32707 5.69108 1.79616C5.69108 2.21947 5.94279 2.39109 6.53772 2.39109C6.92672 2.39109 6.97248 2.43685 7.29283 3.07755C7.47589 3.45511 7.63606 3.77546 7.63606 3.80978C7.63606 3.83266 7.41868 3.9814 7.15554 4.14157C6.88095 4.30174 6.36611 4.7365 5.99999 5.1255L5.32497 5.8234L4.9703 5.53738C4.67283 5.32 4.60418 5.17126 4.60418 4.83947C4.60418 4.24454 4.3296 4.09581 3.79187 4.39327C3.20838 4.70218 2.7965 5.27423 2.78506 5.80052L2.77362 6.22384H3.28846C3.71178 6.22384 3.87196 6.29249 4.19231 6.58995L4.59274 6.95607L4.16943 7.84847C3.9406 8.34043 3.70034 8.99257 3.62025 9.29004C3.50584 9.77056 3.46008 9.83921 3.2427 9.782C3.10541 9.73624 2.71641 9.67904 2.37318 9.64471C1.81257 9.57607 1.72104 9.5303 1.57231 9.20995C1.37781 8.82096 0.954491 8.69511 0.554055 8.91249C0.233706 9.07266 -0.0752026 10.171 0.0163258 10.7659C0.199382 11.8757 0.645583 12.1617 1.22908 11.5439C1.49222 11.2693 1.60663 11.2121 1.89266 11.2693C2.07571 11.3037 2.43039 11.3494 2.67065 11.3494L3.11685 11.3723L3.1855 12.0588C3.23126 12.4363 3.29991 13.0084 3.34567 13.3287L3.42576 13.9237L3.01388 14.061C2.67065 14.1754 2.55624 14.1639 2.27021 13.9923C1.98419 13.8207 1.9041 13.8207 1.75536 13.9351C1.36637 14.2669 1.64095 15.5712 2.19012 15.9487C2.5448 16.2119 2.69353 16.1547 2.87659 15.7199C3.02532 15.3767 3.41432 15.0906 3.72322 15.0906C3.79187 15.0906 4.68427 16.7267 4.62707 16.7496C4.61563 16.7496 4.3296 17.0013 4.00925 17.3102C3.46008 17.8251 3.39143 17.8708 3.11685 17.745C2.48759 17.4589 2.23589 17.928 2.602 18.706C2.86515 19.2437 3.4372 19.7014 3.99781 19.8387C4.36392 19.9302 4.5813 19.6213 4.47833 19.1293C4.43257 18.8548 4.50121 18.7289 4.92453 18.3056L5.43938 17.8136L6.28602 18.523C6.74366 18.9234 7.13266 19.301 7.15554 19.3696C7.2013 19.587 6.73222 20.2391 6.57204 20.1819C6.49196 20.1476 6.33178 20.1934 6.21737 20.2734C5.73685 20.6281 6.54916 21.4862 7.46445 21.5892C8.04794 21.6464 8.21955 21.4633 8.00217 20.9828C7.842 20.6396 8.17379 19.8616 8.43693 19.976C8.52846 20.0103 8.97466 20.1705 9.40942 20.3306C9.85562 20.4794 10.2332 20.6281 10.2561 20.651C10.2789 20.6624 10.2561 21.0286 10.2103 21.4404C10.1417 22.1612 10.1188 22.207 9.68401 22.4816C9.28357 22.7333 9.22637 22.8134 9.26069 23.1337C9.32934 23.8202 10.6451 24.2892 11.812 24.0261C12.9447 23.7744 13.2307 23.0079 12.3727 22.5044C12.0065 22.2871 11.9722 22.2184 12.0294 21.921C12.0637 21.7379 12.0981 21.4175 12.0981 21.2116V20.8455L13.1049 20.7768C13.6541 20.7425 14.2147 20.6739 14.352 20.6396C14.5579 20.5709 14.6265 20.6281 14.7867 20.9942C14.9469 21.3718 14.9469 21.4404 14.7867 21.612C14.6952 21.715 14.6151 21.9095 14.6151 22.0468C14.6151 22.3786 15.0499 22.4816 15.702 22.2985C16.583 22.0582 16.9948 21.3146 16.3313 21.1544C16.0452 21.0858 15.7592 20.6853 15.7592 20.3535C15.7592 20.2162 17.258 19.3238 17.4982 19.3238C17.6241 19.3238 18.7339 20.7997 18.7339 20.9713C18.7339 21.0629 18.6881 21.1773 18.6195 21.2116C18.5623 21.2459 18.5051 21.4862 18.5051 21.7265C18.5051 22.0582 18.5623 22.207 18.7224 22.2985C19.5576 22.7447 21.1937 21.8294 21.72 20.6281C21.9145 20.1934 21.9259 20.0789 21.8001 19.8044C21.6628 19.5183 21.5941 19.4955 20.9878 19.4955L20.3356 19.484L19.7865 18.8204C19.489 18.4543 19.203 18.0882 19.1458 18.0081C19.0771 17.928 19.2373 17.6306 19.592 17.1729C19.9009 16.7839 20.164 16.4636 20.1869 16.4636C20.2098 16.4636 20.3814 16.5437 20.5644 16.6352C20.8276 16.7725 20.9077 16.8983 20.9077 17.1386C20.9077 17.3217 20.9878 17.5276 21.0793 17.6077C21.4912 17.9509 22.395 16.8983 22.395 16.0746C22.395 15.5826 22.2005 15.4568 21.72 15.6627C21.4454 15.7657 21.331 15.7657 21.0335 15.6169C20.839 15.514 20.6789 15.411 20.6789 15.3996C20.6903 15.3881 20.8276 14.9648 20.9992 14.4614L21.3196 13.5461L22.0518 13.5919C22.9099 13.6376 23.3103 13.7635 23.3103 13.9809C23.3103 14.061 23.4361 14.2555 23.5963 14.4042C23.8366 14.633 23.9167 14.6559 24.1569 14.5415C24.7976 14.2555 25.2324 12.6194 24.8663 11.91C24.7633 11.7155 24.5802 11.4982 24.443 11.4295C24.2485 11.3151 24.1569 11.3609 23.8251 11.7041L23.4476 12.116L22.6009 12.0016C22.1433 11.9444 21.7314 11.8872 21.6971 11.8872C21.6628 11.8872 21.5941 11.5096 21.5598 11.052C21.514 10.6058 21.4454 10.0108 21.4111 9.74768C21.3424 9.29004 21.3539 9.25572 21.6513 9.14131C21.8916 9.04978 22.0289 9.07266 22.2806 9.20995C22.784 9.50742 22.9671 9.35869 22.9671 8.67222C22.9671 7.79126 22.3836 6.96751 21.8916 7.15056C21.7886 7.18489 21.7085 7.31074 21.7085 7.41371C21.7085 7.67685 21.4683 7.96288 21.1708 8.04296C20.9534 8.11161 20.8734 8.03152 20.5644 7.40227C20.3699 7.00183 20.164 6.63572 20.0954 6.57851C19.8894 6.36113 20.0038 6.14375 20.5988 5.59458C21.1708 5.04541 21.2051 5.03397 21.7314 5.10262C22.4065 5.1827 22.6238 5.02253 22.6238 4.46192C22.6238 3.32926 20.8161 1.84192 19.9809 2.27668C19.7636 2.40253 19.7407 2.48262 19.7979 3.03179L19.8665 3.6496L19.2945 4.22166C18.9513 4.56489 18.6652 4.77083 18.5851 4.71362C18.4707 4.65642 17.7728 4.11869 17.3266 3.76402C17.2809 3.71825 17.3495 3.45511 17.4754 3.15764C17.6813 2.68856 17.7614 2.61991 18.0589 2.61991C18.7911 2.61991 18.5623 1.81904 17.7042 1.38428C17.0978 1.08681 16.4685 1.05249 16.3656 1.31563C16.3313 1.4186 16.3541 1.68175 16.4342 1.88768C16.5486 2.19659 16.5372 2.32244 16.3999 2.60847C16.2969 2.79153 16.1711 2.97458 16.1139 3.00891C16.0567 3.04323 15.6105 2.97458 15.1185 2.84873C14.6265 2.72288 13.8714 2.58559 13.4481 2.53982C12.7044 2.47118 12.6701 2.45974 12.6701 2.18515C12.6701 2.02498 12.796 1.75039 12.9561 1.59022C13.3223 1.21266 13.2422 0.96096 12.7044 0.777903C11.9493 0.526199 10.8396 0.869431 10.8396 1.3614C10.8396 1.47581 10.9997 1.68175 11.1828 1.81904C11.4002 1.96777 11.526 2.16227 11.526 2.33389C11.526 2.57415 11.4459 2.60847 10.7823 2.72288C10.3705 2.80297 9.91283 2.90594 9.7641 2.96314C9.44375 3.07755 9.42086 3.05467 8.94034 2.19659L8.61999 1.60166L8.87169 1.14402C9.1806 0.594847 9.1234 0.251616 8.70008 0.0914402C8.31108 -0.0572929 7.89921 -0.0229702 7.30427 0.182968Z"
              fill="white"
            />
          </svg>

          <span>COVID-19 INFORMATIONSCENTER</span>
        </router-link>

        <a
          role="button"
          class="navbar-burger burger"
          aria-label="menu"
          aria-expanded="false"
          data-target="navbarBasicExample"
        >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="navbarBasicExample" class="navbar-menu">
        <div class="navbar-start">
          <a class="navbar-item">Dashboard</a>
          <router-link to="/hovedkategorier">Hovedkategorier</router-link>
          <a class="navbar-item">Min konto</a>
        </div>

        <div class="navbar-end">
          <div class="navbar-item">
            <div class="buttons">
              <a class="button" @click="logout">
                <strong>Log ud</strong>
              </a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>
</template>

<script>
	export default {
		name: 'Header',
		methods: {
			logout() {
				console.log('logging out...')

				fetch(process.env.VUE_APP_API_URL + 'users/logout')
					.then(response => {
						return response.json()
					})
					.then(response => {
						console.log(response)
					})
					.then(() => {
						this.$router.push('/')
					})
			},
		},
	}

	document.addEventListener('DOMContentLoaded', () => {
		// Get all "navbar-burger" elements
		const $navbarBurgers = Array.prototype.slice.call(
			document.querySelectorAll('.navbar-burger'),
			0
		)

		// Check if there are any navbar burgers
		if ($navbarBurgers.length > 0) {
			// Add a click event on each of them
			$navbarBurgers.forEach(el => {
				el.addEventListener('click', () => {
					// Get the target from the "data-target" attribute
					const target = el.dataset.target
					const $target = document.getElementById(target)

					// Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
					el.classList.toggle('is-active')
					$target.classList.toggle('is-active')
				})
			})
		}
	})
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
	.header {
		position: sticky;
		top: 0;
		background-color: #355a93;
		height: 10vh;

		.navbar {
			max-width: 1080px;
			margin: 0 auto;
			background-color: #355a93;
			color: #fff;

			a {
				color: #fff;

				&:hover {
					background-color: #355a93;
				}
			}
			a.button {
				color: #355a93;
			}

			span {
				padding-left: 10px;
			}

			@media screen and (max-width: 1023px) {
				.navbar-menu {
					background-color: #f5f5f5;
					a {
						color: #355a93;
					}

					.button {
						background-color: #355a93;
						color: #fff;
					}
				}
			}
		}
	}
</style>
